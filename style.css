/* ADD / MODIFIED PARTS ONLY â€“ assumes prior CSS still present. You can replace old file with this full one if easier. */
:root {
  --bg:#06111d;
  --bg-2:#0e1322;
  --txt:#f1f7fb;
  --muted:#9fb2c8;
  --cyan:#00f2ea;
  --pink:#ff1d80;
  --gold:#f7d25c;
  --silver:#c9d2df;
  --bronze:#c97a32;
  --good:#5df28f;
  --danger:#ff6b6b;
  --panel-fade:rgba(255,255,255,0.08);
  --panel-border:rgba(255,255,255,0.18);
  --gradient-1:#00f2ea;
  --gradient-2:#ff008c;
  --gradient-3:#ffd549;
  --panel-blur:14px;
  --vibe-anim-time:28s;
  --cmd-bg:rgba(10,20,34,0.78);
  --vibrance-overlay-opacity:0.35;
}

html,body,#app,#game-container{
  background:
    radial-gradient(circle at 25% 15%,rgba(0,242,234,0.25),transparent 55%),
    radial-gradient(circle at 80% 70%,rgba(255,0,150,0.20),transparent 60%),
    linear-gradient(135deg,#081625,#091d31 45%,#0b223b);
  background-blend-mode:screen,screen,normal;
  animation:bgPulse 18s linear infinite;
}
@keyframes bgPulse{
  0%{filter:saturate(1) brightness(1);}
  50%{filter:saturate(1.25) brightness(1.05);}
  100%{filter:saturate(1) brightness(1);}
}

/* VIBRANCE OVERLAY */
#vibrance-overlay{
  position:absolute;
  inset:0;
  pointer-events:none;
  mix-blend-mode:color-dodge;
  background:
    radial-gradient(circle at 30% 40%,rgba(0,242,234,0.35),transparent 60%),
    radial-gradient(circle at 70% 65%,rgba(255,0,120,0.28),transparent 65%),
    linear-gradient(115deg,rgba(255,214,80,0.18),rgba(0,0,0,0) 40%,rgba(0,242,234,0.18) 70%,rgba(255,0,120,0.15));
  opacity:var(--vibrance-overlay-opacity);
  animation:vibeShift 22s ease-in-out infinite;
  z-index:1;
}
@keyframes vibeShift{
  0%,100%{filter:hue-rotate(0deg) brightness(1);}
  25%{filter:hue-rotate(35deg) brightness(1.1);}
  50%{filter:hue-rotate(70deg) brightness(1.05);}
  75%{filter:hue-rotate(-25deg) brightness(1.12);}
}

/* COMMANDS PANEL REWORK */
#commands-panel{
  pointer-events:auto;
  background:linear-gradient(155deg,rgba(255,255,255,0.12),rgba(255,255,255,0.02));
  border:1px solid var(--panel-border);
  border-radius:26px;
  padding:20px 20px 26px;
  position:relative;
  overflow:hidden;
  backdrop-filter:blur(var(--panel-blur)) saturate(155%);
  box-shadow:0 0 26px rgba(0,242,234,0.4),0 0 52px rgba(255,0,120,0.35);
  min-width:260px;
  transition:box-shadow .4s, background .6s;
}
#commands-panel::before{
  content:'';
  position:absolute;
  inset:-40% -40%;
  background:conic-gradient(from 0deg,
    rgba(0,242,234,0.0) 0deg,
    rgba(0,242,234,0.75) 60deg,
    rgba(255,0,128,0.75) 140deg,
    rgba(247,210,92,0.85) 220deg,
    rgba(0,242,234,0.6) 300deg,
    rgba(0,242,234,0.0) 360deg);
  filter:blur(80px) saturate(160%);
  opacity:.35;
  animation:panelAura var(--vibe-anim-time) linear infinite;
  mix-blend-mode:plus-lighter;
  pointer-events:none;
}
@keyframes panelAura{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}
#commands-panel.floating{position:absolute;z-index:60;cursor:move;}
#commands-panel.dragging{box-shadow:0 0 40px rgba(0,242,234,0.7),0 0 90px rgba(255,0,110,0.55);}

.cmd-title{
  font-weight:900;
  font-size:24px;
  letter-spacing:2px;
  text-align:center;
  margin:0 0 18px;
  position:relative;
  color:#fff;
  text-shadow:0 0 16px rgba(0,242,234,0.9),0 0 32px rgba(255,0,130,0.6);
  cursor:grab;
  user-select:none;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}
#commands-panel.dragging .cmd-title{cursor:grabbing;}
.cmd-title .cmd-pulse{
  width:14px;height:14px;border-radius:50%;
  background:radial-gradient(circle,#fff,#00f2ea 60%,transparent 70%);
  box-shadow:0 0 14px 4px rgba(0,242,234,0.9);
  animation:pulseDot 1.8s ease-in-out infinite;
}
@keyframes pulseDot{
  0%,100%{transform:scale(.55);opacity:.7;}
  50%{transform:scale(1.2);opacity:1;}
}

.command-list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:10px;
  position:relative;
  z-index:2;
}
.cmd-row{
  display:flex;
  align-items:flex-start;
  gap:14px;
  background:linear-gradient(135deg,rgba(255,255,255,0.14),rgba(255,255,255,0.02));
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.18);
  position:relative;
  overflow:hidden;
  backdrop-filter:blur(6px);
  transition:transform .35s, box-shadow .35s, background .5s;
  box-shadow:0 4px 14px -4px rgba(0,0,0,0.6),0 0 0 1px rgba(255,255,255,0.08);
}
.cmd-row::after{
  content:'';
  position:absolute;
  inset:0;
  background:radial-gradient(circle at 20% 25%,rgba(255,255,255,0.25),transparent 55%),
             radial-gradient(circle at 80% 70%,rgba(255,255,255,0.18),transparent 65%);
  opacity:.35;
  mix-blend-mode:overlay;
  pointer-events:none;
}
.cmd-row:hover{
  transform:translateY(-4px) scale(1.03);
  box-shadow:0 6px 22px -4px rgba(0,0,0,0.55),
             0 0 18px rgba(0,242,234,0.55),
             0 0 26px rgba(255,0,120,0.45);
}

.c-badge{
  font-size:18px;
  font-weight:800;
  letter-spacing:1px;
  padding:6px 14px 7px;
  border-radius:40px;
  background:linear-gradient(90deg,#00f2ea,#ff3ca1);
  color:#06111d;
  text-shadow:0 0 6px rgba(255,255,255,0.7);
  box-shadow:0 0 18px rgba(0,242,234,0.55);
  white-space:nowrap;
  position:relative;
  z-index:1;
}
.cmd-row.t1 .c-badge{background:linear-gradient(90deg,#dca062,#ffcc8a);box-shadow:0 0 14px rgba(255,190,120,0.65);}
.cmd-row.t2 .c-badge{background:linear-gradient(90deg,#dfe5ec,#9fb1c3);box-shadow:0 0 14px rgba(180,200,220,0.65);}
.cmd-row.t3 .c-badge{background:linear-gradient(90deg,#fff2b0,#f7d25c);box-shadow:0 0 16px rgba(247,210,92,0.75);}

.c-badge.gift-badge{
  background:linear-gradient(90deg,#ff9d40,#ff4d90,#ff0078);
  box-shadow:0 0 16px rgba(255,120,40,0.75),0 0 30px rgba(255,0,120,0.55);
  color:#fff;
}

.c-text{
  display:flex;
  flex-direction:column;
  font-size:16px;
  font-weight:700;
  color:#f4fbff;
  letter-spacing:.4px;
  line-height:1.15;
  gap:4px;
  position:relative;
}
.c-sub{
  font-size:12.5px;
  font-weight:600;
  opacity:.85;
  letter-spacing:.6px;
  color:#cfe7f5;
}

.cmd-sep{
  height:10px;
  margin:2px 6px;
  background:linear-gradient(90deg,rgba(0,242,234,0.35),rgba(255,0,120,0.4),rgba(247,210,92,0.4));
  border-radius:6px;
  opacity:.35;
}
.cmd-sep.subtle{
  height:6px;
  opacity:.25;
  margin-top:0;
}

.gift-icons-row{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(54px,1fr));
  gap:10px;
  margin-top:4px;
  padding:6px 4px 2px;
}
.gift-icon{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
  font-size:11px;
  font-weight:600;
  letter-spacing:.4px;
  color:#e9f8ff;
  text-align:center;
  filter:drop-shadow(0 0 6px rgba(0,0,0,0.6));
  opacity:.9;
  transition:transform .35s,filter .35s,opacity .35s;
}
.gift-icon img{
  width:38px;
  height:38px;
  object-fit:contain;
  image-rendering:crisp-edges;
  filter:drop-shadow(0 0 10px rgba(255,255,255,0.4));
  animation:floatGift 4.8s ease-in-out infinite;
}
.gift-icon:nth-child(2) img{animation-delay:.8s;}
.gift-icon:nth-child(3) img{animation-delay:1.4s;}
.gift-icon:nth-child(4) img{animation-delay:2.0s;}
@keyframes floatGift{
  0%,100%{transform:translateY(0);}
  50%{transform:translateY(-8px);}
}
.gift-icon:hover{
  transform:translateY(-6px) scale(1.12);
  filter:drop-shadow(0 0 14px rgba(255,255,255,0.9));
  opacity:1;
}

.cmd-footer-hint{
  margin-top:16px;
  font-size:11px;
  text-align:center;
  color:#b6c9da;
  opacity:.75;
  letter-spacing:.55px;
  font-weight:600;
}

.panel-resize-handle{
  position:absolute;
  bottom:6px; right:10px;
  width:18px; height:18px;
  background:
    linear-gradient(135deg,rgba(255,255,255,0.3) 0 35%,rgba(255,255,255,0) 35% 70%,rgba(255,255,255,0.35) 70% 100%);
  opacity:.6;
  border-radius:4px;
  pointer-events:none;
  transform:rotate(0deg);
  animation:handleSpin 6s linear infinite;
  mix-blend-mode:overlay;
}
@keyframes handleSpin{
  0%{transform:rotate(0deg);}
  100%{transform:rotate(360deg);}
}

/* Floating state scaling (panel) */
#commands-panel:hover{
  background:linear-gradient(150deg,rgba(255,255,255,0.18),rgba(255,255,255,0.03));
}

/* Media adjustments for reflow */
@media (max-width:420px){
  .c-text{font-size:14px;}
  .c-badge{font-size:16px;padding:6px 12px;}
  .gift-icon img{width:32px;height:32px;}
}

/* Keep original other sections (not re-listed for brevity) */